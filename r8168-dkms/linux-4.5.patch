--- r8168-8.042/src/r8168_n.c.orig	2016-08-22 14:22:48.694631079 +0800
+++ r8168-8.042/src/r8168_n.c	2016-08-22 14:24:53.279449184 +0800
@@ -4320,7 +4320,11 @@
                 features &= ~NETIF_F_ALL_TSO;
         if (dev->mtu > ETH_DATA_LEN) {
                 features &= ~NETIF_F_ALL_TSO;
+#if LINUX_VERSION_CODE < KERNEL_VERSION(4,5,0)
                 features &= ~NETIF_F_ALL_CSUM;
+#else
+                features &= ~NETIF_F_CSUM_MASK;
+#endif
         }
         spin_unlock_irqrestore(&tp->lock, flags);
 
